---
title: '速度与优雅：博客性能优化之旅'
author: 'J.sky'
time: '2023-07-18T15:08:06.000000Z'
tag: '碎言博客,站长吐槽'
description: '由于需要改进LCP 问题：超过了 2.5 秒（桌面设备）这个问题，花了点时间把最近做的这个主题进行了一些性能的优化，嗯，优化后的页面打开速度还真是不错，优化博客的主题，大概是每个博主必经之路吧。'
---

由于需要改进LCP 问题：超过了 2.5 秒（桌面设备）这个问题，花了点时间把最近做的这个主题进行了一些性能的优化，嗯，优化后的页面打开速度还真是不错，优化博客的主题大概是每个博主必经之路吧。

## 自己挖坑自己填

前一阵子使用tailwindcss+daisyUI做了个博客的新主题，把构思的功能不管三七二十一都给上了，导致页面的加载速度很慢，以至于自己打开都有觉得有点不耐烦了，再加上google的邮件提示，立马觉悟了，这是不改不行了。虽说部署与Github，但是页面性能优化的好，除了网络原因连不上的话，只要连上了打开的速度还是可以的，但是前一阵子忙于琐事，对于慢的事却忽略了，最终痛下决心改之。

## 性能优化的细节

根据google页面加载工具给出的提示，做出了一下几点修改：

1. 移除了jQuery，把jq的相关的博客功能代码都使用原生的JavaScript重写了，把依赖jq的库都去掉了，所有依赖jq的功能都使用JavaScript原生代码重写。
2. 优化了giscus评论插件的加载，这样打开页面不会自动加载评论，点击按钮后在加载评论页面，这样大大提高了页面的加载速度。
3. 优化了HTML的DOM结构，精简了一些无用的代码，修复了一些代码的错误，删除了一些重复功能代码，优化了站点导航。
4. 重写了站内的搜索，本来想撤掉搜索了，但是今天自己在博客里找东西找了半天，最后还是添加上了。
5. 重新使用工具进行LCP测试，页面都达到了95分+，数值很满意，页面打开速度明显的快多了！

## 一些取舍

本来把搜索和评论都撤掉了，总觉得没啥人评论，留着也是影响页面加载速度，但是考虑了一下，万一有人看我不顺眼，找不到发泄的地方，再给憋出病了就不好了，所以还是加上吧。评论这玩意一定要看开，千万不要太在意那些恶意的评论，看到一定要及时删除，我可不想像某个博主那样，评论事件都过去了个把月了还在念念不忘。

对于首屏大图，暂时还是不添加了，没啥用，你以为好看那是你自己的审美，别人没准看了一眼就会说：这啥破玩意！然后页面直接关了。而且首屏大图太影响阅读体验了，当然你要是图片类型的博客，我建议大！图一定要更大！哈哈哈。

希望大家愉快的写博客，愉快的交流。